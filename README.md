# SDK for F5CS services

## SDK Overview

This SDK is generated using openapi-generator tool (Link here). openapi-generator supports auto-generation of SDK for numerous languages using openapi specification.

This repository contains the `Go` generated SDK only. SDK for other languages can be easily generated by modifying the generation Makefile.

## SDK Generation and Current Status

The SDK generation needs only 1 input - the opanapi spec file. As of now, the openapi spec files from subscription-service and authentication-service are copied over from the respective repos in the `schema` folder.

TODO - To directly use the openapi spec files from respective repos instead of copying manually.

## SDK Usage

Each Generated package has an example of how to use the SDK and Readme corresponding to it. However, here is an example of how to use the SDK to Login to F5CS account and Get Subscriptions for the account.
```
func TestClient(t *testing.T) {
	authCfg := authentication.NewConfiguration()
	authClient := authentication.NewAPIClient(authCfg)
	login, _, err := authClient.AuthenticationServiceApi.Login(context.Background(), authentication.AuthenticationServiceLoginRequest{
		Username: "abc@xyz.com",
		Password: "**********",
	})
	assert.NoError(t, err)
	cfg := subscription.NewConfiguration()
	c := subscription.NewAPIClient(cfg)
	auth := context.WithValue(context.Background(), subscription.ContextAccessToken, login.AccessToken)
	subs, _, err := c.SubscriptionServiceApi.ListSubscriptions(auth, "a-balhbal", &subscription.ListSubscriptionsOpts{})
	assert.NoError(t, err)
	_, err = json.Marshal(subs)
	assert.NoError(t, err)
}
```

